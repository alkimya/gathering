# GatheRing Framework - Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit the .env file to version control!

# =============================================================================
# DATABASE (PostgreSQL + pgvector)
# =============================================================================

# Option 1: Full connection URL (preferred)
DATABASE_URL=postgresql://gathering_app:your-password@localhost:5432/gathering

# Option 2: Individual connection parameters
DB_HOST=localhost
DB_PORT=5432
DB_NAME=gathering
DB_USER=gathering_app
DB_PASSWORD=your-password

# Alternative: Use standard PostgreSQL environment variables
# PGHOST=localhost
# PGPORT=5432
# PGDATABASE=gathering
# PGUSER=gathering_app
# PGPASSWORD=your-password

# SQL debug output (true/false)
SQL_ECHO=false

# =============================================================================
# LLM PROVIDERS
# =============================================================================

# Anthropic Configuration (Claude)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
ANTHROPIC_DEFAULT_MODEL=claude-sonnet-4-20250514

# OpenAI Configuration (also used for embeddings)
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORG_ID=                              # Optional: Organization ID
OPENAI_DEFAULT_MODEL=gpt-4
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# DeepSeek Configuration
DEEPSEEK_API_KEY=sk-your-deepseek-api-key-here
DEEPSEEK_DEFAULT_MODEL=deepseek-coder       # Options: deepseek-chat, deepseek-coder

# Ollama Configuration (Local LLM)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_DEFAULT_MODEL=llama3.2

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment: development, staging, production
GATHERING_ENV=development

# Debug mode (true/false)
DEBUG=true

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# =============================================================================
# API SERVER (FastAPI)
# =============================================================================

# Server settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Secret key for JWT token signing
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here-generate-a-new-one

# Disable authentication (development only!)
# Set to true to disable JWT authentication for local development
DISABLE_AUTH=false

# API rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=60

# Maximum tokens per request
MAX_TOKENS_PER_REQUEST=4000

# =============================================================================
# ADMIN AUTHENTICATION
# =============================================================================

# Admin user credentials (loaded from environment, not database)
# The admin user can manage all resources and users

# Admin email address
ADMIN_EMAIL=admin@example.com

# Admin password hash (bcrypt)
# Generate with: python -c "from passlib.context import CryptContext; print(CryptContext(schemes=['bcrypt']).hash('your-password'))"
# Example below is for password "admin123" - CHANGE THIS IN PRODUCTION!
ADMIN_PASSWORD_HASH=$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/X4.VTtYWuQTHnPC9O

# =============================================================================
# RAG / EMBEDDINGS
# =============================================================================

# Embedding dimension (1536 for OpenAI text-embedding-3-small)
EMBEDDING_DIMENSION=1536

# Similarity threshold for memory recall (0.0 - 1.0)
MEMORY_SIMILARITY_THRESHOLD=0.7

# Maximum memories to retrieve per query
MEMORY_RECALL_LIMIT=10

# =============================================================================
# REDIS (Optional - for caching/sessions)
# =============================================================================

REDIS_URL=redis://localhost:6379/0

# =============================================================================
# FILE STORAGE
# =============================================================================

# Base path for file operations (sandboxed)
FILE_STORAGE_BASE_PATH=/tmp/gathering
FILE_STORAGE_MAX_SIZE_MB=100

# =============================================================================
# TESTING
# =============================================================================

# Use mock providers in tests
USE_MOCK_PROVIDERS=true

# Test API key (used only in test environment)
TEST_API_KEY=test-key-for-testing-only
