# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2026, GatheRing Team
# This file is distributed under the same license as the GatheRing package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2026.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: GatheRing 0.2.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2026-01-02 14:08+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language: fr\n"
"Language-Team: fr <LL@li.org>\n"
"Plural-Forms: nplurals=2; plural=(n > 1);\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.17.0\n"

#: ../../developer/websocket.md:1 5167f8823fd349f18a80021158c17bfb
msgid "WebSocket"
msgstr ""

#: ../../developer/websocket.md:3 db5103da25174f5ca3f78b4fddaa63f6
msgid ""
"GatheRing uses WebSocket for real-time communication between the backend "
"and clients."
msgstr ""

#: ../../developer/websocket.md:5 bd4ceb9110e647f3881bf7883b715070
msgid "Overview"
msgstr ""

#: ../../developer/websocket.md:7 777e4f7cbbc54788862813f3151d7cab
msgid "WebSocket channels:"
msgstr ""

#: ../../developer/websocket.md eb3ff850bf824d79847139f8139366a6
msgid "Channel"
msgstr ""

#: ../../developer/websocket.md 06d990dd3dbd4a1a8bf0a4d1a61932aa
msgid "Purpose"
msgstr ""

#: ../../developer/websocket.md 5e1914b6ef7840e1861b3b3b0d369bfa
#, python-brace-format
msgid "`/ws/circles/{name}`"
msgstr ""

#: ../../developer/websocket.md 01a168c9c60e4b158c7bd593edbb862d
msgid "Circle events and messages"
msgstr ""

#: ../../developer/websocket.md 80ea5ad2b60b421e8cb1379a511e08e2
#, python-brace-format
msgid "`/ws/workspace/{id}`"
msgstr ""

#: ../../developer/websocket.md 7916f2a80c8d49cfaa2796c73f792c06
msgid "Workspace file/git updates"
msgstr ""

#: ../../developer/websocket.md 3dfa5165ce3b40a7864a8443659e3566
#, python-brace-format
msgid "`/ws/agents/{id}`"
msgstr ""

#: ../../developer/websocket.md 5435e055bbb8458f87a35d4f950a3468
msgid "Agent activity streams"
msgstr ""

#: ../../developer/websocket.md:15 38f29585dd2e49b0bb874371268339af
msgid "Server Implementation"
msgstr ""

#: ../../developer/websocket.md:17 27a61f95029d4f518bed093b2b247f02
msgid "Basic WebSocket Endpoint"
msgstr ""

#: ../../developer/websocket.md:19 41af8b07c1ca442b885d477cb6df3323
#, python-brace-format
msgid ""
"from fastapi import WebSocket, WebSocketDisconnect\n"
"from typing import Set\n"
"\n"
"# Connection manager\n"
"class ConnectionManager:\n"
"    def __init__(self):\n"
"        self.connections: dict[str, Set[WebSocket]] = {}\n"
"\n"
"    async def connect(self, channel: str, websocket: WebSocket):\n"
"        await websocket.accept()\n"
"        if channel not in self.connections:\n"
"            self.connections[channel] = set()\n"
"        self.connections[channel].add(websocket)\n"
"\n"
"    def disconnect(self, channel: str, websocket: WebSocket):\n"
"        if channel in self.connections:\n"
"            self.connections[channel].discard(websocket)\n"
"\n"
"    async def broadcast(self, channel: str, message: dict):\n"
"        if channel in self.connections:\n"
"            for connection in self.connections[channel]:\n"
"                await connection.send_json(message)\n"
"\n"
"\n"
"manager = ConnectionManager()\n"
"\n"
"\n"
"@router.websocket(\"/ws/circles/{circle_name}\")\n"
"async def circle_websocket(websocket: WebSocket, circle_name: str):\n"
"    await manager.connect(circle_name, websocket)\n"
"    try:\n"
"        while True:\n"
"            data = await websocket.receive_json()\n"
"            # Handle incoming message\n"
"            await handle_message(circle_name, data)\n"
"    except WebSocketDisconnect:\n"
"        manager.disconnect(circle_name, websocket)\n"
msgstr ""

#: ../../developer/websocket.md:59 9b2c50a1f64a4df19a85152e83c1b0c5
msgid "Message Types"
msgstr ""

#: ../../developer/websocket.md:61 011c49d5fb6c4e909a7627624379a722
msgid ""
"from enum import Enum\n"
"from pydantic import BaseModel\n"
"from typing import Any, Optional\n"
"from datetime import datetime\n"
"\n"
"\n"
"class MessageType(str, Enum):\n"
"    # Circle events\n"
"    AGENT_MESSAGE = \"agent_message\"\n"
"    AGENT_JOINED = \"agent_joined\"\n"
"    AGENT_LEFT = \"agent_left\"\n"
"    CIRCLE_STATUS = \"circle_status\"\n"
"\n"
"    # Workspace events\n"
"    FILE_CHANGED = \"file_changed\"\n"
"    FILE_CREATED = \"file_created\"\n"
"    FILE_DELETED = \"file_deleted\"\n"
"    GIT_STATUS = \"git_status\"\n"
"\n"
"    # System events\n"
"    ERROR = \"error\"\n"
"    PING = \"ping\"\n"
"    PONG = \"pong\"\n"
"\n"
"\n"
"class WebSocketMessage(BaseModel):\n"
"    type: MessageType\n"
"    data: Any\n"
"    timestamp: datetime = datetime.utcnow()\n"
"    channel: Optional[str] = None\n"
msgstr ""

#: ../../developer/websocket.md:94 9877b1071a6a43788435a6a116add2ae
msgid "Sending Messages"
msgstr ""

#: ../../developer/websocket.md:96 3decdf06c74640a1891cc2e5d2330b03
#, python-brace-format
msgid ""
"async def send_agent_message(circle_name: str, agent_id: int, content: "
"str):\n"
"    message = WebSocketMessage(\n"
"        type=MessageType.AGENT_MESSAGE,\n"
"        data={\n"
"            \"agent_id\": agent_id,\n"
"            \"content\": content,\n"
"        },\n"
"    )\n"
"    await manager.broadcast(circle_name, message.dict())\n"
msgstr ""

#: ../../developer/websocket.md:108 7e169ded68144dbf93423df1be651387
msgid "Client Implementation"
msgstr ""

#: ../../developer/websocket.md:110 6b64dd5fc7f24ebdb17cbea4a9422b03
msgid "JavaScript/TypeScript"
msgstr ""

#: ../../developer/websocket.md:112 4a8bdabd20f140a5b0345ebc88acb483
msgid ""
"class WebSocketClient {\n"
"  private ws: WebSocket | null = null;\n"
"  private reconnectAttempts = 0;\n"
"  private maxReconnectAttempts = 5;\n"
"\n"
"  constructor(private url: string) {}\n"
"\n"
"  connect(): void {\n"
"    this.ws = new WebSocket(this.url);\n"
"\n"
"    this.ws.onopen = () => {\n"
"      console.log('Connected');\n"
"      this.reconnectAttempts = 0;\n"
"    };\n"
"\n"
"    this.ws.onmessage = (event) => {\n"
"      const message = JSON.parse(event.data);\n"
"      this.handleMessage(message);\n"
"    };\n"
"\n"
"    this.ws.onclose = () => {\n"
"      console.log('Disconnected');\n"
"      this.attemptReconnect();\n"
"    };\n"
"\n"
"    this.ws.onerror = (error) => {\n"
"      console.error('WebSocket error:', error);\n"
"    };\n"
"  }\n"
"\n"
"  private handleMessage(message: any): void {\n"
"    switch (message.type) {\n"
"      case 'agent_message':\n"
"        this.onAgentMessage?.(message.data);\n"
"        break;\n"
"      case 'file_changed':\n"
"        this.onFileChanged?.(message.data);\n"
"        break;\n"
"      // ... handle other types\n"
"    }\n"
"  }\n"
"\n"
"  private attemptReconnect(): void {\n"
"    if (this.reconnectAttempts < this.maxReconnectAttempts) {\n"
"      this.reconnectAttempts++;\n"
"      setTimeout(() => this.connect(), 1000 * this.reconnectAttempts);\n"
"    }\n"
"  }\n"
"\n"
"  send(message: any): void {\n"
"    if (this.ws?.readyState === WebSocket.OPEN) {\n"
"      this.ws.send(JSON.stringify(message));\n"
"    }\n"
"  }\n"
"\n"
"  disconnect(): void {\n"
"    this.ws?.close();\n"
"  }\n"
"\n"
"  // Event handlers\n"
"  onAgentMessage?: (data: any) => void;\n"
"  onFileChanged?: (data: any) => void;\n"
"}\n"
"\n"
"// Usage\n"
"const client = new WebSocketClient('ws://localhost:8000/ws/circles/dev-"
"team');\n"
"client.onAgentMessage = (data) => {\n"
"  console.log(`${data.agent_id}: ${data.content}`);\n"
"};\n"
"client.connect();\n"
msgstr ""

#: ../../developer/websocket.md:185 1c9ab506eb3447698701e2a269c1cc6c
msgid "React Hook"
msgstr ""

#: ../../developer/websocket.md:187 dc9586bc77884dbc8249ab77f0593190
msgid ""
"import { useEffect, useRef, useCallback } from 'react';\n"
"\n"
"export function useWebSocket(url: string) {\n"
"  const ws = useRef<WebSocket | null>(null);\n"
"  const [messages, setMessages] = useState<any[]>([]);\n"
"  const [isConnected, setIsConnected] = useState(false);\n"
"\n"
"  useEffect(() => {\n"
"    ws.current = new WebSocket(url);\n"
"\n"
"    ws.current.onopen = () => setIsConnected(true);\n"
"    ws.current.onclose = () => setIsConnected(false);\n"
"    ws.current.onmessage = (event) => {\n"
"      const message = JSON.parse(event.data);\n"
"      setMessages((prev) => [...prev, message]);\n"
"    };\n"
"\n"
"    return () => {\n"
"      ws.current?.close();\n"
"    };\n"
"  }, [url]);\n"
"\n"
"  const send = useCallback((data: any) => {\n"
"    if (ws.current?.readyState === WebSocket.OPEN) {\n"
"      ws.current.send(JSON.stringify(data));\n"
"    }\n"
"  }, []);\n"
"\n"
"  return { messages, isConnected, send };\n"
"}\n"
"\n"
"// Usage in component\n"
"function CircleChat({ circleName }: { circleName: string }) {\n"
"  const { messages, isConnected, send } = useWebSocket(\n"
"    `ws://localhost:8000/ws/circles/${circleName}`\n"
"  );\n"
"\n"
"  return (\n"
"    <div>\n"
"      <div>Status: {isConnected ? 'Connected' : 'Disconnected'}</div>\n"
"      {messages.map((msg, i) => (\n"
"        <div key={i}>{msg.data.content}</div>\n"
"      ))}\n"
"    </div>\n"
"  );\n"
"}\n"
msgstr ""

#: ../../developer/websocket.md:236 b759e0857a334e50bdd1d5d03e75ba86
msgid "Python Client"
msgstr ""

#: ../../developer/websocket.md:238 f87c9b24ac234011875cb1ec13df5a71
#, python-brace-format
msgid ""
"import asyncio\n"
"import websockets\n"
"import json\n"
"\n"
"\n"
"async def connect_to_circle(circle_name: str):\n"
"    uri = f\"ws://localhost:8000/ws/circles/{circle_name}\"\n"
"\n"
"    async with websockets.connect(uri) as websocket:\n"
"        # Send a message\n"
"        await websocket.send(json.dumps({\n"
"            \"type\": \"user_message\",\n"
"            \"content\": \"Hello, agents!\",\n"
"        }))\n"
"\n"
"        # Receive messages\n"
"        async for message in websocket:\n"
"            data = json.loads(message)\n"
"            print(f\"Received: {data}\")\n"
"\n"
"\n"
"# Run\n"
"asyncio.run(connect_to_circle(\"dev-team\"))\n"
msgstr ""

#: ../../developer/websocket.md:264 745a4c87d5614fea9ed2b63ec7e9c398
msgid "Event Bus Integration"
msgstr ""

#: ../../developer/websocket.md:266 b2ed1aa04f1148aea23c49289d972125
msgid "WebSocket integrates with the Redis event bus:"
msgstr ""

#: ../../developer/websocket.md:268 a7372093e6ca437eb8f773a8c8a2484d
#, python-brace-format
msgid ""
"from gathering.events import EventBus\n"
"\n"
"event_bus = EventBus()\n"
"\n"
"\n"
"@event_bus.subscribe(\"agent.message\")\n"
"async def forward_to_websocket(event):\n"
"    \"\"\"Forward agent messages to WebSocket clients.\"\"\"\n"
"    circle_name = event[\"circle_name\"]\n"
"    await manager.broadcast(circle_name, {\n"
"        \"type\": \"agent_message\",\n"
"        \"data\": event,\n"
"    })\n"
"\n"
"\n"
"@event_bus.subscribe(\"workspace.file_changed\")\n"
"async def forward_file_change(event):\n"
"    \"\"\"Forward file changes to workspace clients.\"\"\"\n"
"    workspace_id = event[\"workspace_id\"]\n"
"    await manager.broadcast(f\"workspace-{workspace_id}\", {\n"
"        \"type\": \"file_changed\",\n"
"        \"data\": event,\n"
"    })\n"
msgstr ""

#: ../../developer/websocket.md:294 153df0ea0ed644849bb5dae835862ef9
msgid "Authentication"
msgstr ""

#: ../../developer/websocket.md:296 e15175173f59481c929b7756d52894f7
msgid "Token-based Auth"
msgstr ""

#: ../../developer/websocket.md:298 37384aee313042a6b1d4d96e11215d69
#, python-brace-format
msgid ""
"from fastapi import WebSocket, Query, HTTPException\n"
"\n"
"async def get_ws_user(token: str = Query(...)):\n"
"    user = await verify_token(token)\n"
"    if not user:\n"
"        raise HTTPException(401, \"Invalid token\")\n"
"    return user\n"
"\n"
"\n"
"@router.websocket(\"/ws/circles/{name}\")\n"
"async def circle_ws(\n"
"    websocket: WebSocket,\n"
"    name: str,\n"
"    token: str = Query(...),\n"
"):\n"
"    user = await get_ws_user(token)\n"
"    # ... continue with authenticated user\n"
msgstr ""

#: ../../developer/websocket.md:318 111654371eb34c699e72267e5f6b909a
msgid "Connection on First Message"
msgstr ""

#: ../../developer/websocket.md:320 cbe078d872d54b71b88c3cb6bf857188
#, python-brace-format
msgid ""
"@router.websocket(\"/ws/circles/{name}\")\n"
"async def circle_ws(websocket: WebSocket, name: str):\n"
"    await websocket.accept()\n"
"\n"
"    # Wait for auth message\n"
"    auth_message = await websocket.receive_json()\n"
"    if auth_message.get(\"type\") != \"auth\":\n"
"        await websocket.close(code=4001)\n"
"        return\n"
"\n"
"    user = await verify_token(auth_message.get(\"token\"))\n"
"    if not user:\n"
"        await websocket.close(code=4001)\n"
"        return\n"
"\n"
"    # Now authenticated\n"
"    # ...\n"
msgstr ""

#: ../../developer/websocket.md:340 4ca0ef0dd9064e1d990d47c1d3425f43
msgid "Heartbeat/Keepalive"
msgstr ""

#: ../../developer/websocket.md:342 6ff3e22c2cb646c9b7074871016f9055
#, python-brace-format
msgid ""
"import asyncio\n"
"\n"
"async def heartbeat(websocket: WebSocket):\n"
"    \"\"\"Send periodic pings to keep connection alive.\"\"\"\n"
"    while True:\n"
"        try:\n"
"            await websocket.send_json({\"type\": \"ping\"})\n"
"            await asyncio.sleep(30)\n"
"        except:\n"
"            break\n"
"\n"
"\n"
"@router.websocket(\"/ws/circles/{name}\")\n"
"async def circle_ws(websocket: WebSocket, name: str):\n"
"    await manager.connect(name, websocket)\n"
"\n"
"    # Start heartbeat\n"
"    heartbeat_task = asyncio.create_task(heartbeat(websocket))\n"
"\n"
"    try:\n"
"        while True:\n"
"            data = await websocket.receive_json()\n"
"            if data.get(\"type\") == \"pong\":\n"
"                continue  # Heartbeat response\n"
"            await handle_message(name, data)\n"
"    except WebSocketDisconnect:\n"
"        heartbeat_task.cancel()\n"
"        manager.disconnect(name, websocket)\n"
msgstr ""

#: ../../developer/websocket.md:373 29cf1f1170b443f5884d124b44eb0756
msgid "Testing WebSocket"
msgstr ""

#: ../../developer/websocket.md:375 210f14cf2e984499b96b06997221ad93
#, python-brace-format
msgid ""
"import pytest\n"
"from httpx import AsyncClient\n"
"from starlette.testclient import TestClient\n"
"from gathering.api.app import app\n"
"\n"
"\n"
"def test_websocket_connect():\n"
"    client = TestClient(app)\n"
"    with client.websocket_connect(\"/ws/circles/test\") as websocket:\n"
"        # Send message\n"
"        websocket.send_json({\"type\": \"ping\"})\n"
"\n"
"        # Receive response\n"
"        data = websocket.receive_json()\n"
"        assert data[\"type\"] == \"pong\"\n"
"\n"
"\n"
"@pytest.mark.asyncio\n"
"async def test_websocket_broadcast():\n"
"    client1 = TestClient(app)\n"
"    client2 = TestClient(app)\n"
"\n"
"    with client1.websocket_connect(\"/ws/circles/test\") as ws1:\n"
"        with client2.websocket_connect(\"/ws/circles/test\") as ws2:\n"
"            # Send from client 1\n"
"            ws1.send_json({\"type\": \"message\", \"content\": "
"\"Hello\"})\n"
"\n"
"            # Receive on client 2\n"
"            data = ws2.receive_json()\n"
"            assert data[\"content\"] == \"Hello\"\n"
msgstr ""

#: ../../developer/websocket.md:408 c2b9f802eee443c88610aae02a86a849
msgid "Related Topics"
msgstr ""

#: ../../developer/websocket.md:410 8598a67311c2451ab6571423981cb9e3
msgid "[Architecture](architecture.md) - System architecture"
msgstr ""

#: ../../developer/websocket.md:411 b4871dcadf3140c6bfa9b03e7a023d34
msgid "[API](api.md) - REST API development"
msgstr ""

#: ../../developer/websocket.md:412 bcff09f861384277810951484f3a9fb4
msgid "[Testing](testing.md) - Testing guidelines"
msgstr ""

